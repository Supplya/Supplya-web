<app-navbar></app-navbar>

<div *ngIf="category">
  <app-breadcrumb currentPageLink="{{category}}" previousLink="Shop"></app-breadcrumb>
  
  <app-no-data-available  [visible]="!products?.length && !loading && !productsError" notFoundMessage="Not product found for this category"
  resetLink="RETURN TO SHOP"></app-no-data-available>
</div>

<div *ngIf="keyword">
  <app-breadcrumb currentPageLink="{{keyword}}" previousLink="Shop"></app-breadcrumb>

  <app-no-data-available  [visible]="!products?.length && !loading && !productsError" notFoundMessage="No products found matching the search keyword"
  resetLink="RETURN TO SHOP"></app-no-data-available>
</div>


 <section class="py-2">
    <app-grid-product-list 
      [products]="products"
      [loading]="loading"
      [error]="productsError"
      heading=""
      [addedItems]="AllAddedItems"
      [totalProducts]="50"
      [itemsPerPage]="itemsPerPage"
      [currentPage]="currentPage"
      (refresh)="refreshProducts()"
      (toggleWishlist)="toggleWishlist($event)"
      (viewProduct)="viewProduct($event)"
      (addToCart)="addToCart($event)"
      (toCart)="toCart()"
      [getStarsArray]="getStarsArray.bind(this)" 
    [getEmptyStarsArray]="getEmptyStarsArray.bind(this)"
      >
    </app-grid-product-list>
  </section>



   


<!-- <div class="container mt-4" *ngIf="products?.length > 0 && !loading && !productsError">

 <div class="row">
  <div class="col-lg-3 filter-column d-none d-lg-block" style="border-right: 1px solid #ccc;">
    <h5 class="filter-heading mb-5">Filter Option</h5>
    <div class="filter-option ">
      <div class="price-range">
        <h3>Unit Price</h3>
        <input type="range" [min]="unitPriceMin" [max]="unitPriceMax" step="1" [(ngModel)]="unitPriceMax" (input)="updateUnitPriceInput()" class="slider" id="unitPriceRange">
        <div class="range-inputs">
          <input type="number" [(ngModel)]="unitPriceMin" readonly>
          <input type="number" [(ngModel)]="unitPriceMax" (input)="updateUnitPriceRange()">
        </div>
      </div>

      <div class="price-range">
        <h3>Minimum Order</h3>
        <input type="range" [min]="minOrderMin" [max]="minOrderMax" step="1" [(ngModel)]="minOrderMax" (input)="updateMinOrderInput()" class="slider" id="minOrderRange">
        <div class="range-inputs">
          <input type="number" [(ngModel)]="minOrderMin" readonly>
          <input type="number" [(ngModel)]="minOrderMax" (input)="updateMinOrderRange()">
        </div>
      </div>

      <button (click)="applyFilters()">Apply</button>
    </div>
  </div>

  <div class="col-lg-9 product-column">
    <div class="d-flex justify-content-between align-items-center mb-2">
      <div>
        <span>Page 1</span>
      </div>
      <div>
        <select class="content-select" aria-label="Sort by">
          <option selected>High to low price</option>
          <option value="1">Low to high price</option>
          <option value="2">Best sellers</option>
        </select>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-12">
        <div class="product-container-custom">
          <div class="row">
            <div class="col-lg-4 col-md-4 col-6 mb-4" *ngFor="let product of products">
              <div class="card border-0 products">
                <div class="card-img-top placeholder-image" [ngClass]="{ 'wishlist-bg': product.isWishlisted }">
                  <span class="love-icon mt-2" (click)="toggleWishlist(product)"><i class="bi bi-heart"></i></span>
                  <img (click)="viewProduct(product?._id)" [src]="product?.image" alt="Product Image">
                </div>
                <div class="card-body">
                  <h5 class="card-title">
                    <div class="marquee" (click)="viewProduct(product?._id)">{{ product?.name }}</div>
                  </h5>
                  <div class="star-rating">
                    <span class="bi bi-star-fill" *ngFor="let star of getStarsArray(product?.rating); let i = index"></span>
                    <span class="bi bi-star" *ngFor="let emptyStar of getEmptyStarsArray(product?.rating); let i = index"></span>
                  </div>
                  <div class="price-and-cart">
                    <span class="product-amount">{{ product?.unit_price | currency: 'â‚¦' :'symbol':'1.0-0' }}</span>
                    <span *ngIf="!ifAddedToCart(product)" (click)="addToCart(product)" class="cart-icon"><i class="bi bi-cart-fill"></i></span>
                    <span *ngIf="ifAddedToCart(product)" (click)="toCart()" class="cart-icon view">View</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

</div> -->




<app-footer></app-footer>
