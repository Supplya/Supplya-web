<app-navbar></app-navbar>
<app-breadcrumb currentPageLink="Shopping Cart" previousLink="Shop"></app-breadcrumb>
<app-no-data-available  [visible]="!cart || !cart.items.length" notFoundMessage="Your cart is currently empty."
resetLink="RETURN TO SHOP"></app-no-data-available>


<section class="py-5" style="display: flex; justify-content: center;" *ngIf="cart && cart.items.length">


  <div class="container my-5 cart">
    <div class="row">
      <div class="col-lg-1"></div>
      <div class="col-lg-10">
        <div class="row">
          <!-- Cart Items Column -->
          <div class="col-lg-8 ">
            <h4 class="mb-4">Cart Items ({{cart.items.length}})</h4>
           
         



            <!-- Product 2 -->
            <div class="row mb-4 border-bottom" *ngFor="let item of cart.items">
              <!-- Product Image Column -->
              <div class="col-lg-5 position-relative cart-product-img ">
                <!-- Remove Icon -->
                <span class="position-absolute top-0 start-1">
                  <button class="btn" title="Remove this item" (click)="removeFromCart(item)">X</button>
                </span>
                <!-- Product Image -->
                <div class="d-flex justify-content-start ">

                  <img src="/assets/Images/Rectangle 134.png" style="width: 96px; height: 96px; margin-right: 10px;"
                    alt="Product Image" class="img-fluid img-thumbnail mb-2">
                  <!-- Product Details -->
                  <div class="mt-2">
                    <h5 class="mb-1 title">{{item.product.name}}</h5>
                    <p class="mb-1 tag">Color: <span class="text-primary">Red</span></p>
                    <p class="mb-0 tag">Size: <span class="text-primary">XL</span></p>
                    <!-- FOR MOBILE -->
                    <p class="mb-0 tag  mobile-only"> <span class="text-dark  fs-5 ">{{item.price || 0 | currency: '₦'
                        :'symbol':'1.0-0'}}</span></p>
                        <small class="text-muted text-nowrap mobile-only"> {{item.product.price || 0 | currency: '₦'
                          :'symbol':'1.0-0'}} / per item </small>

                    <div class="py-3 mobile-only ">

                      <div class="quantity-selector-mobile ">

                        <!-- <button (click)="changeQuantity(-1, cartItem)" class="quantity-button">-</button>
<input type="number" [(ngModel)]="cartItem.quantity" readonly class="quantity-input no-border-padding form-control">
<button (click)="changeQuantity(1, cartItem)" class="quantity-button">+</button> -->

                        <button (click)="changeQuantity(-1, item)" class="quantity-button">-</button>
                        <input type="number" [(ngModel)]="item.quantity" readonly
                          class="quantity-input no-border-padding form-control">
                        <button (click)="changeQuantity(1, item)" class="quantity-button">+</button>

                      </div>
                    </div>
                    <!-- FOR MOBILE END -->
                  </div>
                </div>
              </div>
              <!-- Price -->
              <!-- FOR LARGE SCREEN -->
              <div class="col-lg-2 text-center align-self-center">
                <p class="price d-lg-block d-none mt-2"> {{item.product.price || 0 | currency: '₦' :'symbol':'1.0-0'}}
               </p> 
              
              </div>
              <!-- Quantity -->
              <div class="col-lg-3 d-flex justify-content-center align-items-center">
                <!-- FOR LARGE SCREEN                    -->

                <div class="d-lg-block d-none">

                  <div class="quantity-selector ">

                    <button (click)="changeQuantity(-1, item)" class="quantity-button">-</button>
                    <input type="number" [(ngModel)]="item.quantity" readonly
                      class="quantity-input no-border-padding form-control">
                    <button (click)="changeQuantity(1, item)" class="quantity-button">+</button>

                    <!-- <button (click)="changeQuantity(-1, quantity)" class="quantity-button">-</button>
                    <input type="number" [(ngModel)]="item.quantity" readonly
                      class="quantity-input no-border-padding form-control">
                    <button (click)="changeQuantity(1, quantity)" class="quantity-button">+</button> -->
                  </div>
                </div>
              </div>
              <!-- Total -->
              <div class="col-lg-2 text-center align-self-center">
                <!-- <p class="price  d-none d-lg-block"> $70,000.00</p> -->
                <p class="price d-lg-block d-none mt-2"> {{item.price || 0 | currency: '₦' :'symbol':'1.0-0'}}</p>

              </div>
            </div>

            <div class="d-flex justify-content-end clear-section mb-3">

              <button class="btn" (click)="clearCart()">Clear Cart</button>
            </div>
          </div>

          <!-- Cart Totals Column -->
          <div class="col-lg-4 text-center">
            <h4 class="heading mb-5">Cart Totals</h4>

            <div class="card shadow-0 border total">

              <div class="card-body">


                <div class="d-flex justify-content-between border-bottom mt-4">
                  <p class="mb-2 heading"> Total Count:</p>
                  <!-- <p class="mb-2 heading">Sub Total:</p> -->
                  <p class="mb-2 cartItemPrice">{{cart.totalCount | number}}</p>
                </div>

                <!-- <hr style="margin: 10px;"/> -->
                <div class="d-flex justify-content-between border-bottom mt-4">
                  <p class="mb-2 heading">Total Price:</p>
                  <h5 class="mb-2  cartItemPrice">{{cart.totalPrice || 0 | currency: '₦' :'symbol':'1.0-0'}}</h5>
                </div>

                <p class=" ship-text py-3">Shipping & taxes calculated at checkout</p>
                <div class="mt-3">
                  <a class="btn  w-100 shadow-0 mb-2 proceed" (click)="checkoutRoute()"> Proceed to Checkout
                  </a>

                </div>
              </div>
            </div>

          

          </div>
        </div>
      </div>
      <!-- <div class="col-lg-1"></div> -->
    </div>

  </div>
</section>


<app-footer></app-footer>