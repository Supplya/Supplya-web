<section class="setting-section">
<div class="row p-3">
    <div class="col-lg-3" style="border-right: 1px solid #D1D1D1">
          <div class="tabs p-4">
    <div 
      class="tab" 
      [ngClass]="{'active': selectedTab === 'shop', 'inactive': selectedTab !== 'shop'}" 
      (click)="selectTab('shop')">
<i class="bi bi-shop me-3"></i> Shop Information
    </div>
    <div 
      class="tab" 
      [ngClass]="{'active': selectedTab === 'security', 'inactive': selectedTab !== 'security'}" 
      (click)="selectTab('security')">
     <i class="bi bi-shield-lock me-3"></i> Security
    </div>
  </div>
    </div>
    <div class="col-lg-9">
<form [formGroup]="form" (ngSubmit)="updateProfile()">

<section [ngSwitch]="selectedTab" class=" p-4">
<div *ngSwitchCase="'shop'">
<div class="d-flex justify-content-between align-items-center" style="border-bottom: 1px solid #D1D1D1">
<div class="mb-2">
<p class="mb-0" style="font-size: 24px; font-weight: 500; color: #000;">Shop Information</p>
<p style="font-size: 14px; font-weight: 400; color: #000;">Manage Your Shop Profile</p>
</div>
<button class="btn btn-save d-none d-lg-block">Update Profile</button>
</div>
<section class="p-lg-4">

    <div class="d-flex justify-content-between align-items-center py-3 w-100">
        <div class="img-name">
    
            <div class="profile-picture-container cursor-pointer" (click)="toggleModal('changePhotoModal', 'open')">
                <!-- Profile Picture -->
                <img [src]="imgUrl" alt="" class="profile-picture">
                <!-- Camera Icon -->
                <i class="bi bi-camera-fill camera-icon"></i>
            </div>
            <div>
                <p class="mb-0" style="font-size: 22px; font-weight: 500; color: #000;">{{form.value?.shopName}}</p>
                <p class="sub mb-0">{{form.value?.email}}</p>
                <p class="sub">{{form.value?.phoneNumber}}</p>
            </div>
        </div>
        <!-- <button class="btn btn-save d-none d-lg-block">Change Picture</button> -->
    </div>
    <section>
         <div class="row mb-3">
    
                <div class="mb-2 col-lg-6 slide-left">
                    <label for="firstName" class="content-label">First Name</label>
                    <input type="text" formControlName="firstName" id="firstName" class=" content-input {{
                                            isInvalid('firstName') ? 'error-input' : ''
                                          }}" placeholder="Enter first Name">
    
                                            <small class="error-text mb-4" *ngIf="isInvalid('firstName')">
                                                {{ getErrorMessage('firstName', 'This field is required') }}
                                              </small>
                  </div>
                  <div class="mb-2 col-lg-6 slide-right">
                    <label for="lastName" class="content-label">LastName</label>
                    <input type="text"   id="lastName" formControlName="lastName" class=" content-input {{
                                            isInvalid('lastName') ? 'error-input' : ''
                                          }}" placeholder="Enter product last Name">
                                           <small class="error-text mb-4" *ngIf="isInvalid('lastName')">
                                                {{ getErrorMessage('lastName', 'This field is required') }}
                                              </small>
                </div>
            </div>
         <div class="row mb-3">
    
                <div class="mb-2 col-lg-6 slide-left">
                    <label for="shopName" class="content-label">Shop Name</label>
                    <input type="text" formControlName="shopName" id="shopName" class=" content-input {{
                                            isInvalid('shopName') ? 'error-input' : ''
                                          }}" placeholder="Enter shop name">
    
                                            <small class="error-text mb-4" *ngIf="isInvalid('shopName')">
                                                {{ getErrorMessage('shopName', 'This field is required') }}
                                              </small>
                  </div>
                  <div class="mb-2 col-lg-6 slide-right">
                    <label for="shopUrl" class="content-label">Shop link - {{this.form.value.shopUrl}}</label>
                    <input type="text"   id="shopUrl" formControlName="shopUrl" class=" content-input {{
                                            isInvalid('shopUrl') ? 'error-input' : ''
                                          }}" placeholder="Enter shop link">
                                           <small class="error-text mb-4" *ngIf="isInvalid('shopUrl')">
                                                {{ getErrorMessage('shopUrl', 'This field is required') }}
                                              </small>
                </div>
            </div>
         <div class="row mb-3">
    
                <div class="mb-2 col-lg-6 slide-left">
                    <label for="shopName" class="content-label">Shop Address</label>
                    <input type="text" formControlName="shopName" id="shopName" class=" content-input {{
                                            isInvalid('shopName') ? 'error-input' : ''
                                          }}" placeholder="Enter shop name">
    
                                            <small class="error-text mb-4" *ngIf="isInvalid('shopName')">
                                                {{ getErrorMessage('shopName', 'This field is required') }}
                                              </small>
                  </div>
                  <div class="mb-2 col-lg-6 slide-right">
                    <label for="shopUrl" class="content-label">Shop Postal/zip Code</label>
                    <input type="text"   id="shopUrl" formControlName="shopUrl" class=" content-input {{
                                            isInvalid('shopUrl') ? 'error-input' : ''
                                          }}" placeholder="Enter shop link">
                                           <small class="error-text mb-4" *ngIf="isInvalid('shopUrl')">
                                                {{ getErrorMessage('shopUrl', 'This field is required') }}
                                              </small>
                </div>
            </div>
         <div class="row mb-3">
    
                <div class="mb-2 col-lg-6 slide-left">
                    <label for="state" class="content-label">State</label>
                     <select formControlName="state" class=" content-select {{
                                        isInvalid('state') ? 'error-input' : ''
                                      }}">
                            <option value="" selected  id="state">Select State</option>
                            <option *ngFor="let item of states">{{item}}</option>
                        </select>
                   
    
                                            <small class="error-text mb-4" *ngIf="isInvalid('state')">
                                                {{ getErrorMessage('state', 'This field is required') }}
                                              </small>
                  </div>
                  <div class="mb-2 col-lg-6 slide-right">
                    <label for="country" class="content-label">Country</label>
                    <select formControlName="country" class=" content-select {{
                                        isInvalid('country') ? 'error-input' : ''
                                      }}">
                            <option value="Nigeria" selected  id="country">Select Country</option>
                            <!-- <option *ngFor="let item of countries">{{item}}</option> -->
                        </select>
                                           <small class="error-text mb-4" *ngIf="isInvalid('country')">
                                                {{ getErrorMessage('country', 'This field is required') }}
                                              </small>
                </div>
            </div>

            <div class="d-flex justify-content-center mobile-only">
<button class="btn btn-save w-100 py-2">Update Profile</button>

            </div>
    </section>
</section>

</div>
<div *ngSwitchCase="'security'">
<div class="mb-2" style="border-bottom: 1px solid #D1D1D1">
<p class="mb-0" style="font-size: 24px; font-weight: 500; color: #000;">Security</p>
<p class="" style="font-size: 14px; font-weight: 400; color: #000;">Keep Your Account Secure</p>
</div>
<section class="change-password">
  <p class="mb-0 mt-5 mb-4" style="font-size: 20px; font-weight: 500; color: #000;">Change your password</p>
  
  <div class="mb-2 slide-left">
    <label for="password" class="content-label">Current Password</label>
    <div class="position-relative">
      <input [type]="showPassword ? 'text' : 'password'" formControlName="password" id="password" class="content-input {{
                                      isInvalid('password') ? 'error-input' : ''
                                    }}" placeholder="Enter your password">
      <i (click)="togglePasswordVisibility('password')" [class]="showPassword ? 'bi bi-eye-slash password-toggle-icon' : 'bi bi-eye password-toggle-icon'"></i>
    </div>
    <small class="error-text mb-4" *ngIf="isInvalid('password')">
      {{ getErrorMessage('password', 'This field is required') }}
    </small>
  </div>
  
  <div class="mb-3 slide-right">
    <label for="newPassword" class="content-label">New Password</label>
    <div class="position-relative">
      <input [type]="showNewPassword ? 'text' : 'password'" formControlName="newPassword" id="newPassword" class="content-input {{
                                      isInvalid('newPassword') ? 'error-input' : ''
                                    }}" placeholder="Enter your new password">
      <i (click)="togglePasswordVisibility('newPassword')" [class]="showNewPassword ? 'bi bi-eye-slash password-toggle-icon' : 'bi bi-eye password-toggle-icon'"></i>
    </div>
    <small class="error-text mb-4" *ngIf="isInvalid('newPassword')">
      {{ getErrorMessage('newPassword', 'This field is required') }}
    </small>
  </div>
  
  <div class="mb-3 slide-left">
    <label for="confirmPassword" class="content-label">Confirm New Password</label>
    <div class="position-relative">
      <input [type]="showConfirmPassword ? 'text' : 'password'" formControlName="confirmPassword" id="confirmPassword" class="content-input {{
                                      isInvalid('confirmPassword') ? 'error-input' : ''
                                    }}" placeholder="Confirm your password">
      <i (click)="togglePasswordVisibility('confirmPassword')" [class]="showConfirmPassword ? 'bi bi-eye-slash password-toggle-icon' : 'bi bi-eye password-toggle-icon'"></i>
    </div>
    <small class="error-text mb-4" *ngIf="isInvalid('confirmPassword')">
      {{ getErrorMessage('confirmPassword', 'This field is required') }}
    </small>
  </div>

  <div class="py-3">
    <button class="btn-curve-primary w-100">Change Password</button>
  </div>
</section>


</div>
</section>
</form>
    </div>
</div>
</section>



 <div id="changePhotoModal" class="modal">
  <div
    class="modal-center-content mx-auto pt-4 px-4 px-lg-5"
    style="border-radius: 10px !important"
  >
      <div class="d-flex justify-content-between">
            <p class="modal-heading text-center">Store profile photo</p>
      <img 
        style="cursor: pointer"
        class=""
        (click)="toggleModal('changePhotoModal', 'close')"
        src="/assets/Images/dismiss.svg"
        alt=""
      />
    </div>
  
  <section class="zoom-in">
     <ng-container *ngIf="imgUrl">
                <img style="height: 250px; width: 500px; background-size: cover;" [src]="imgUrl" alt="Profile Picture" class=" mt-3">
          
        <!-- <label for="fileInput" class="content-button center-button" style="width: max-content; cursor: pointer;"> Change Photo</label> -->
        <div class="py-2 mt-3">
            <button class="btn-curve-primary w-100 mb-2">Set Store Photo</button>
            <p (click)="toggleModal('changePhotoModal', 'close')" class="text-center" style="color: #948E8E; font-size: 18px; font-weight: 400; cursor: pointer;">Cancel</p>
        </div>

          </ng-container>
 <ng-container  *ngIf="!imgUrl">
            <section class="mb-5 mt-3 media-div zoom-in text-center" (dragover)="onDragOver($event)" 
    (dragenter)="onDragEnter($event)" 
    (dragleave)="onDragLeave($event)" 
    (drop)="onDrop($event)">

                <div class="">
    <img src="/assets/Images/image-icon.png" alt="">
                    <p class="mb-4 mt-3" >Drag and drop image here, or click add photo</p>
        <label for="fileInput" class="content-button center-button" style="width: max-content; cursor: pointer;"> <i class="bi bi-plus mt-1"></i> Add Store Photo</label>
                </div>
            </section>
           
          </ng-container>
<input type="file" accept="image/*" (change)="addImage($event)" style="display: none;" id="fileInput">
</section>
  </div>
</div>