<div class="container">
    <div class="pageRow row align-items-center mb-3">
        <div class="col-sm-6">
          <div class="page-name mt-2">Products</div>
        </div>
        <div class="col-sm-6">
          <div class="btn-container">
            <button class="add" routerLink="/core/vendor/add-new-product"> <i class="bi bi-plus mt-1"></i> Add Product</button>
          </div>
        </div>
      </div>

      <section class="content" *ngIf="productLoading && !products && !errorFetchingProduct">
<div class="py-5 p-5 center">
    <div>

        <img src="/assets/Images/requestLoading.gif" alt="">
        <p class="loading-text text-center text-muted">Loading...</p>
    </div>
</div>
      </section >

      <section class="content center" *ngIf="!productLoading && !products && errorFetchingProduct">
        <div class="py-5 ">
          <div class="py-3 text-center" >
            <img src="/assets/Images/oops.png" style="height: 200px;" alt="">
            <p class="loading-text  text-muted py-3">Could not display products. Click 'Refresh' to try again.
        </p>
            <p class="refresh" (click)="refreshProducts()">Refresh <i class="bi bi-arrow-repeat"></i></p>
          </div>
        </div>
      </section>
      
      <div class="table-responsive" *ngIf="!productLoading && products">

          <table class="table" style="overflow-y: auto;">
            <thead>
              <tr>
                <th>Product Information</th>
                <th>Category</th>
                <th>Min. Order</th>
                <th>Unit Price</th>
                <th>Inventory</th>
                <th>Status</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of products | paginate: { itemsPerPage: itemPerPage, currentPage: p }; let i = index">
                <td>
                  <div class="product-info">
                    <img class="product-image" src="/assets/Images/Rectangle 134.png" alt="Product Image">
                    {{item?.name}}
                  </div>
                </td>
                <td>{{item?.category?.name}}</td>
                <td>{{item?.moq}}</td>
                <!-- <td class="product-info">{{item?.price || 0 | currency:'₦':'':'1.0-0'}}</td> -->
                <td>{{item?.unit_price || 0 | currency:'₦':true:'1.0-0'}}</td>
                <td>{{item?.quantity}}</td>
               <td [ngClass]="{'in-stock': item?.status === 'inStock', 'out-of-stock': item?.status !== 'inStock'}">
  {{ item?.status === 'inStock' ? 'In Stock' : 'Out of Stock' }}
</td>

                <td>
                  <div class="action-icons">
                      <img src="/assets/Images/view.png" alt="View"> &nbsp; &nbsp;
                      <img src="/assets/Images/delete.png" alt="Delete">
                    </div>
                </td>
              </tr>
            </tbody>
           
          </table>

          <div class="d-flex justify-content-between px-5">

            <div class="pagination-info text-muted">
                Now Showing {{ calculateStartRecord() }} - {{ calculateEndRecord() }} of {{ products?.length }} records
              </div>

              <div>
                <pagination-controls *ngIf="products?.length > 0"
                    (pageChange)="p = $event"
                    previousLabel=""
                    nextLabel=""
                  ></pagination-controls>
              </div>
          </div>
          
      </div>
  </div>